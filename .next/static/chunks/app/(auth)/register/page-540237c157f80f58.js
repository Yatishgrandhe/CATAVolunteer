(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[678],{2643:(e,r,s)=>{"use strict";s.d(r,{U:()=>t});var a=s(3254);function t(){let e="https://vxvqbcoragcfugfxmhvu.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ4dnFiY29yYWdjZnVnZnhtaHZ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcxNTYzNTYsImV4cCI6MjA2MjczMjM1Nn0.CE1IvcJDoVG10XJHbmlnDkLtwbMWuN9wGZ1QyV4B-Q0";if(!e||!r)throw Error("Missing environment variables: NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY are required");return(0,a.createBrowserClient)(e,r)}},4712:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>u});var a=s(5155),t=s(2115),l=s(2900),n=s(6874),i=s.n(n),o=s(6766),d=s(2643),c=s(5695);function u(){let[e,r]=(0,t.useState)({email:"",password:"",confirmPassword:"",fullName:"",studentId:""}),[s,n]=(0,t.useState)(!1),[u,m]=(0,t.useState)(""),[b,x]=(0,t.useState)(!1),h=(0,c.useRouter)(),p=(0,d.U)(),f=s=>{r({...e,[s.target.name]:s.target.value})},g=async r=>{if(r.preventDefault(),n(!0),m(""),e.password!==e.confirmPassword){m("Passwords do not match"),n(!1);return}if(e.password.length<6){m("Password must be at least 6 characters long"),n(!1);return}try{let{data:r,error:s}=await p.auth.signUp({email:e.email,password:e.password,options:{data:{full_name:e.fullName,student_id:e.studentId,role:"student"}}});s?m(s.message):(x(!0),setTimeout(()=>{h.push("/verify-email")},2e3))}catch(e){m("An unexpected error occurred")}finally{n(!1)}};return b?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,a.jsxs)(l.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md text-center",children:[(0,a.jsx)("div",{className:"text-green-600 text-6xl mb-4",children:"âœ“"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Registration Successful!"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Please check your email to verify your account before signing in."}),(0,a.jsx)(i(),{href:"/login",children:(0,a.jsx)(l.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Go to Login"})})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,a.jsxs)(l.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)(l.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"flex justify-center mb-6",children:(0,a.jsx)(o.default,{src:"/images/cata-logo.png",alt:"CATA Logo",width:80,height:80,className:"rounded-lg"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Join CATA Volunteer"})]}),(0,a.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[u&&(0,a.jsx)(l.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:u}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,a.jsx)("input",{id:"fullName",name:"fullName",type:"text",value:e.fullName,onChange:f,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"studentId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Student ID"}),(0,a.jsx)("input",{id:"studentId",name:"studentId",type:"text",value:e.studentId,onChange:f,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your student ID"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",value:e.email,onChange:f,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,a.jsx)("input",{id:"password",name:"password",type:"password",value:e.password,onChange:f,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Create a password"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),(0,a.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:e.confirmPassword,onChange:f,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm your password"})]}),(0,a.jsx)(l.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Creating Account...":"Create Account"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-gray-600",children:["Already have an account?"," ",(0,a.jsx)(i(),{href:"/login",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign in"})]})})]})})}},6166:(e,r,s)=>{Promise.resolve().then(s.bind(s,4712))}},e=>{e.O(0,[254,702,766,874,441,964,358],()=>e(e.s=6166)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[677],{259:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var i=a(5155),s=a(2115),n=a(2900),r=a(6766),o=a(2643),l=a(5695);function d(){let[e,t]=(0,s.useState)(null),[a,d]=(0,s.useState)({totalStudents:0,totalOpportunities:0,pendingHours:0,totalHours:0}),[c,u]=(0,s.useState)(!0),m=(0,l.useRouter)(),h=(0,o.U)();(0,s.useEffect)(()=>{(async()=>{let{data:{user:e}}=await h.auth.getUser();if(e){let{data:a}=await h.from("profiles").select("role").eq("id",e.id).single();if((null==a?void 0:a.role)!=="admin")return m.push("/student/dashboard");t(e),await p()}else m.push("/login");u(!1)})()},[m,h]);let p=async()=>{try{let{count:e}=await h.from("profiles").select("*",{count:"exact",head:!0}).eq("role","student"),{count:t}=await h.from("volunteer_opportunities").select("*",{count:"exact",head:!0}),{count:a}=await h.from("volunteer_hours").select("*",{count:"exact",head:!0}).eq("status","pending"),{data:i}=await h.from("volunteer_hours").select("hours").eq("status","approved"),s=(null==i?void 0:i.reduce((e,t)=>e+(t.hours||0),0))||0;d({totalStudents:e||0,totalOpportunities:t||0,pendingHours:a||0,totalHours:s})}catch(e){console.error("Error loading stats:",e)}};return c?(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:(0,i.jsx)(n.P.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full"})}):(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,i.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,i.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12",children:[(0,i.jsx)(n.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,delay:.2},className:"flex justify-center mb-6",children:(0,i.jsx)(r.default,{src:"/images/cata-logo.png",alt:"CATA Logo",width:100,height:100,className:"rounded-lg shadow-lg"})}),(0,i.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Admin Dashboard"}),(0,i.jsx)("p",{className:"text-xl text-gray-600",children:"Manage CATA Volunteer System"})]}),(0,i.jsxs)("div",{className:"grid md:grid-cols-4 gap-6 mb-12",children:[(0,i.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},className:"bg-white p-6 rounded-lg shadow-md",children:[(0,i.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:a.totalStudents}),(0,i.jsx)("div",{className:"text-gray-600",children:"Total Students"})]}),(0,i.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"bg-white p-6 rounded-lg shadow-md",children:[(0,i.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:a.totalOpportunities}),(0,i.jsx)("div",{className:"text-gray-600",children:"Opportunities"})]}),(0,i.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},className:"bg-white p-6 rounded-lg shadow-md",children:[(0,i.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:a.pendingHours}),(0,i.jsx)("div",{className:"text-gray-600",children:"Pending Hours"})]}),(0,i.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"bg-white p-6 rounded-lg shadow-md",children:[(0,i.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:a.totalHours}),(0,i.jsx)("div",{className:"text-gray-600",children:"Total Hours"})]})]}),(0,i.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,i.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.7},className:"bg-white p-6 rounded-lg shadow-md",children:[(0,i.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Student Management"}),(0,i.jsx)("p",{className:"text-gray-600 mb-4",children:"View and manage student accounts, profiles, and permissions."}),(0,i.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Manage Students"})]}),(0,i.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:"bg-white p-6 rounded-lg shadow-md",children:[(0,i.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Opportunity Management"}),(0,i.jsx)("p",{className:"text-gray-600 mb-4",children:"Create, edit, and manage volunteer opportunities."}),(0,i.jsx)("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Manage Opportunities"})]}),(0,i.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.9},className:"bg-white p-6 rounded-lg shadow-md",children:[(0,i.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Hours Approval"}),(0,i.jsx)("p",{className:"text-gray-600 mb-4",children:"Review and approve pending volunteer hours."}),(0,i.jsx)("button",{className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:"Review Hours"})]})]})]})})}},404:(e,t,a)=>{Promise.resolve().then(a.bind(a,259))},2643:(e,t,a)=>{"use strict";a.d(t,{U:()=>s});var i=a(3254);function s(){let e="https://vxvqbcoragcfugfxmhvu.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ4dnFiY29yYWdjZnVnZnhtaHZ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcxNTYzNTYsImV4cCI6MjA2MjczMjM1Nn0.CE1IvcJDoVG10XJHbmlnDkLtwbMWuN9wGZ1QyV4B-Q0";if(!e||!t)throw Error("Missing environment variables: NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY are required");return(0,i.createBrowserClient)(e,t)}}},e=>{e.O(0,[254,702,766,441,964,358],()=>e(e.s=404)),_N_E=e.O()}]);